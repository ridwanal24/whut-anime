(this["webpackJsonpmy-whut-anime"]=this["webpackJsonpmy-whut-anime"]||[]).push([[0],{246:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(23),i=n.n(a),s=n(1),l=n(5),o=n(248),j=n(249),d=n(69),b=n(48),h=n(251),u=n(113),x=n(76),O=n.n(x),g=n(30),p=n.n(g),m=n(47),y=n(147),f=n(148),v=n(252),k=n(55),w=n(151),C=n(138),S=n.n(C),T=n(6);var I=function(e){var t=e.loading,n=e.setLoading,a=e.setResult,i=o.a.Text,s=Object(r.useState)(""),j=Object(l.a)(s,2),d=j[0],b=j[1],h=Object(r.useState)(""),u=Object(l.a)(h,2),x=u[0],O=u[1],g=Object(r.useState)(""),C=Object(l.a)(g,2),I=C[0],L=C[1],z=Object(r.useState)(!1),F=Object(l.a)(z,2),A=F[0],B=F[1],R={borderRadius:"10px",width:"25vw",height:"25vw",lineHeight:"25vw",margin:"0 auto",border:d?"":"1px dashed #C5C5C5",backgroundImage:'url("'.concat(d,'")'),backgroundPosition:"center",backgroundSize:"cover"},P=Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(k.a,{style:{fontSize:"1.5rem",color:"#C5C5C5"}}),Object(T.jsx)(i,{style:{display:"block",marginTop:"-20vw"},type:"secondary",italic:!0,children:"Loading"})]}),M=function(){var e=Object(m.a)(p.a.mark((function e(){var t,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!0),d){e.next=4;break}return y.b.error("Please choose image"),e.abrupt("return");case 4:if(!(I>9e6)){e.next=7;break}return y.b.error("Image must be lower than 9 MB"),e.abrupt("return");case 7:return(t=new S.a).append("image",x),t.append("cutBorder",A),e.prev=10,e.next=13,fetch("https://api.trace.moe/search?anilistInfo",{method:"post",body:t});case 13:return r=e.sent,e.next=16,r.json();case 16:c=e.sent,a(c.result),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.log(e.t0.message);case 23:return e.prev=23,n(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[10,20,23,26]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{style:{textAlign:"center"},children:[Object(T.jsx)("div",{onClick:function(e){return document.querySelector("[name=choose_image]").click()},style:R,children:d?t?P:"":Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(w.a,{style:{fontSize:"1.5rem",color:"#C5C5C5"}}),Object(T.jsx)(i,{style:{display:"block",marginTop:"-20vw",fontSize:"0.5rem"},type:"secondary",italic:!0,children:"Choose image"})]})}),Object(T.jsx)("input",{disabled:t,type:"file",onChange:function(e){L(e.target.files[0].size),O(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){b(t.result)})),t.readAsDataURL(e.target.files[0])},style:{display:"none"},name:"choose_image"}),Object(T.jsx)(f.a,{disabled:t,style:{marginTop:"20px"},onClick:M,type:"primary",children:"Search"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{disabled:t,checked:A,onChange:function(e){return B(!A)}})," ",Object(T.jsx)(i,{type:"secondary",children:"Cut Black Border"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(i,{type:"secondary",style:{fontSize:"0.85rem"},italic:!0,children:"The recommended resolution is 640 x 360px, higher resolution doesn't yield better search results. Your image must be smaller than 9 MB."})]})},L=n(254),z=n(250);var F=function(e){var t=e.loading,n=e.setLoading,a=e.setResult,i=o.a.Text,s=Object(r.useState)(""),j=Object(l.a)(s,2),d=j[0],b=j[1],h=Object(r.useState)(""),u=Object(l.a)(h,2),x=(u[0],u[1],Object(r.useState)("")),O=Object(l.a)(x,2),g=(O[0],O[1],Object(r.useState)(!1)),w=Object(l.a)(g,2),C=w[0],S=w[1],I={borderRadius:"10px",width:"25vw",height:"25vw",lineHeight:"25vw",margin:"0 auto",border:d?"":"1px dashed #C5C5C5",backgroundImage:'url("'.concat(d,'")'),backgroundPosition:"center",backgroundSize:"cover"},F=Object(T.jsxs)(c.a.Fragment,{children:[Object(T.jsx)(k.a,{style:{fontSize:"1.5rem",color:"#C5C5C5"}}),Object(T.jsx)(i,{style:{display:"block",marginTop:"-20vw"},type:"secondary",italic:!0,children:"Loading"})]}),A=function(){var e=Object(m.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!0),d){e.next=4;break}return y.b.error("Please choose image"),e.abrupt("return");case 4:return e.prev=4,e.next=7,fetch("https://api.trace.moe/search?anilistInfo&url=".concat(encodeURIComponent(d)).concat(C?"&cutBorder":""));case 7:return t=e.sent,e.next=10,t.json();case 10:r=e.sent,a(r.result),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0.message);case 17:return e.prev=17,n(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(T.jsxs)("div",{style:{textAlign:"center"},children:[Object(T.jsx)("div",{style:I,children:d?t?F:"":Object(T.jsx)(c.a.Fragment,{children:Object(T.jsx)(i,{style:{display:"block",fontSize:"0.5rem"},type:"secondary",italic:!0,children:"Your image"})})}),Object(T.jsx)("br",{}),Object(T.jsx)(z.a,{prefix:Object(T.jsx)(L.a,{}),onChange:function(e){b(e.target.value)},value:d,placeholder:"Type image url",size:"large"}),Object(T.jsx)(f.a,{disabled:t,style:{marginTop:"20px"},onClick:A,type:"primary",children:"Search"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(v.a,{disabled:t,checked:C,onChange:function(e){return S(!C)}})," ",Object(T.jsx)(i,{type:"secondary",children:"Cut Black Border"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(i,{type:"secondary",style:{fontSize:"0.85rem"},italic:!0,children:"The recommended resolution is 640 x 360px, higher resolution doesn't yield better search results. Your image must be smaller than 9 MB."})]})},A=n(253),B=n(53),R=n(255);var P=function(e){var t=e.anilist,n=e.episode,r=(e.filename,e.from),c=e.image,a=e.similarity,i=e.to,s=e.video,l=(o.a.Text,o.a.Paragraph),j=o.a.Title,d=o.a.Link,b=(t.id,t.idMal),u=(t.isAdult,t.synonyms),x=t.title,O=x.english,g=x.native,p=x.romaji,m=Object(T.jsxs)("div",{children:[Object(T.jsx)(l,{children:O}),Object(T.jsx)(l,{children:g}),Object(T.jsx)(l,{children:p}),u.map((function(e,t){return Object(T.jsx)(l,{children:e},t)}))]});console.log(O,g,p,u);var y=function(e){e=parseInt(e);var t=parseInt(e/60);e-=60*t;var n=parseInt(t/60);t-=60*n;var r=function(e){return e=1==(e="".concat(e)).length?"0".concat(e):e};return"".concat(r(n),":").concat(r(t),":").concat(r(e))};return Object(T.jsxs)(h.a,{style:{margin:"10px 0"},children:[Object(T.jsx)(h.a.Grid,{style:{width:"40%",padding:0,objectFit:"cover"},hoverable:!1,children:Object(T.jsx)("img",{style:{width:"100%"},src:c,alt:"thumbnail"})}),Object(T.jsxs)(h.a.Grid,{style:{width:"60%",paddingLeft:"20px",boxShadow:"none"},hoverable:!1,children:[Object(T.jsxs)(j,{style:{marginBottom:0},level:5,children:[p,Object(T.jsx)(A.a,{content:m,trigger:"click",title:"Alternative Title",children:Object(T.jsx)(B.a,{zIndex:"1",title:"Alternative Title",children:Object(T.jsx)(R.a,{})})})]}),Object(T.jsxs)(l,{style:{margin:0},type:"success",children:["Episode ",n]}),Object(T.jsxs)(l,{italic:!0,type:"secondary",children:[y(r)," - ",y(i)]}),Object(T.jsxs)(l,{italic:!0,type:"danger",children:[parseInt(1e4*a)/100,"% Similarity"]}),Object(T.jsxs)("div",{children:[Object(T.jsx)(d,{href:s,target:"_blank",children:Object(T.jsx)(f.a,{type:"primary",children:"Video"})}),Object(T.jsx)(d,{href:"https://myanimelist.net/anime/"+b,target:"_blank",children:Object(T.jsx)(f.a,{type:"success",children:"MyAnimeList"})})]})]})]})};var M=function(){var e=o.a.Text,t=o.a.Link,n=o.a.Title,c=Object(r.useState)(!1),a=Object(l.a)(c,2),i=a[0],g=a[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),y=m[0],f=m[1];return Object(T.jsx)("div",{children:Object(T.jsxs)(O.a,{children:[Object(T.jsxs)(x.Header,{children:[Object(T.jsx)("div",{className:"logo",style:{height:"32px",float:"left",lineHeight:"32px",margin:"16px 0 16px 0",overflow:"hidden"},children:Object(T.jsx)("img",{style:{height:"100%",objectFit:"cover",objectPosition:"center center"},src:"/whut-anime/whut-logo.png",alt:""})}),Object(T.jsxs)(j.a,{mode:"horizontal",defaultSelectedKeys:["home"],theme:"dark",children:[Object(T.jsx)(j.a.Item,{style:{marginLeft:"auto"},children:"Home"},"home"),Object(T.jsx)(j.a.Item,{children:"About"},"about")]})]}),Object(T.jsx)(x.Content,{style:{padding:"50px 0"},children:Object(T.jsx)(d.a,{justify:"center",children:Object(T.jsxs)(b.a,{lg:16,md:18,sm:20,xs:22,children:[Object(T.jsx)(h.a,{style:{minHeight:"75vh"},children:Object(T.jsxs)(u.a,{defaultActiveKey:"upload",centered:!0,children:[Object(T.jsx)(u.a.TabPane,{disabled:i,tab:"Upload Image",children:Object(T.jsx)(I,{loading:i,setResult:f,setLoading:g})},"upload"),Object(T.jsx)(u.a.TabPane,{disabled:i,tab:"From URL",children:Object(T.jsx)(F,{loading:i,setResult:f,setLoading:g})},"url")]})}),Object(T.jsx)(n,{style:{margin:"10px",textAlign:"center"},level:2,children:"Your Result"}),Object(T.jsx)("div",{children:y.map((function(e,t){return Object(T.jsx)(P,Object(s.a)({},e),t)}))})]})})}),Object(T.jsxs)(x.Footer,{style:{background:"#001529",textAlign:"center"},children:[Object(T.jsxs)(e,{italic:!0,style:{color:"white"},children:["Dibuat oleh ",Object(T.jsx)(t,{href:"http://github.com/ridwanal24",children:"Orang Ini"})," "]}),Object(T.jsx)("br",{}),Object(T.jsxs)(e,{italic:!0,style:{color:"white"},children:["Menggunakan ReactJS dengan API dari ",Object(T.jsx)(t,{href:"https://soruly.github.io/trace.moe-api",children:"trace.moe"})," "]})]})]})})};var H=function(){return Object(T.jsx)(M,{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,256)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};n(245);i.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(H,{})}),document.getElementById("root")),U()}},[[246,1,2]]]);
//# sourceMappingURL=main.db33c7b1.chunk.js.map