(this["webpackJsonpmy-whut-anime"]=this["webpackJsonpmy-whut-anime"]||[]).push([[0],{299:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),c=n.n(i),s=n(1),l=n(30),o=n.n(l),d=n(46),j=n(4),b=n(301),h=n(302),u=n(82),x=n(52),p=n(305),g=n(135),m=n(94),O=n.n(m),y=n(303),f=n(175),v=n(304),w=n(176),k=n(306),C=n(55),S=n(177),I=n(164),T=n.n(I),A=n(172),L=n.n(A),P=n(6);var B=function(e){var t=e.loading,n=e.setLoading,i=e.setResult,c=e.anilist,s=(e.setAnilist,e.anilistId),l=e.setAnilistId,h=e.fetchAnilist,u=y.a.Option,x=b.a.Text,p=Object(a.useState)(""),g=Object(j.a)(p,2),m=g[0],O=g[1],I=Object(a.useState)(""),A=Object(j.a)(I,2),B=A[0],z=A[1],F=Object(a.useState)(""),R=Object(j.a)(F,2),M=R[0],D=R[1],H=Object(a.useState)(!1),E=Object(j.a)(H,2),J=E[0],U=E[1],Y={borderRadius:"10px",width:"25vw",height:"25vw",lineHeight:"25vw",margin:"0 auto",border:m?"":"1px dashed #C5C5C5",backgroundImage:'url("'.concat(m,'")'),backgroundPosition:"center",backgroundSize:"cover"},_=Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(C.a,{style:{fontSize:"1.5rem",color:"#C5C5C5"}}),Object(P.jsx)(x,{style:{display:"block",marginTop:"-20vw"},type:"secondary",italic:!0,children:"Loading"})]}),q=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=3;break}return f.b.error("Please choose image"),e.abrupt("return");case 3:if(!(M>9e6)){e.next=6;break}return f.b.error("Image must be lower than 9 MB"),e.abrupt("return");case 6:return n(!0),(t=new T.a).append("image",B),t.append("cutBorder",J),s&&t.append("anilistID",s),console.log(s),e.prev=12,e.next=15,fetch("https://api.trace.moe/search?anilistInfo",{method:"post",body:t});case 15:return a=e.sent,e.next=18,a.json();case 18:r=e.sent,i(r.result),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),console.log(e.t0.message);case 25:return e.prev=25,n(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[12,22,25,28]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{style:{textAlign:"center"},children:[Object(P.jsx)("div",{onClick:function(e){return document.querySelector("[name=choose_image]").click()},style:Y,children:m?t?_:"":Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(S.a,{style:{fontSize:"1.5rem",color:"#C5C5C5"}}),Object(P.jsx)(x,{style:{display:"block",marginTop:"-20vw",fontSize:"0.5rem"},type:"secondary",italic:!0,children:"Choose image"})]})}),Object(P.jsx)("input",{disabled:t,type:"file",onChange:function(e){D(e.target.files[0].size),z(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){O(t.result)})),t.readAsDataURL(e.target.files[0])},style:{display:"none"},name:"choose_image"}),Object(P.jsx)(v.a,{onChange:function(e){return h(e.target.value)},style:{width:"20vw"},placeholder:"Type here for search anime name"}),Object(P.jsx)(y.a,{disabled:t,loading:t,onSelect:function(e){return l(e)},style:{marginTop:"20px",marginBottom:"10px",width:"20vw"},children:c?c.map((function(e){return Object(P.jsx)(u,{value:e.id,children:e.title.romaji})})):Object(P.jsx)(u,{disabled:!0,children:"Type for search"})}),Object(P.jsx)(L.a,{type:"secondary",children:"Type anime name then select from right box (if you know anime name)"}),Object(P.jsx)("br",{}),Object(P.jsx)(w.a,{disabled:t,loading:t,onClick:q,type:"primary",children:"Search"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(k.a,{disabled:t,checked:J,onChange:function(e){return U(!J)}})," ",Object(P.jsx)(x,{type:"secondary",children:"Cut Black Border"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(x,{type:"secondary",style:{fontSize:"0.85rem"},italic:!0,children:"The recommended resolution is 640 x 360px, higher resolution doesn't yield better search results. Your image must be smaller than 9 MB."})]})},z=n(308);var F=function(e){var t=e.loading,n=e.setLoading,i=e.setResult,c=e.fetchAnilist,s=e.anilist,l=e.setAnilistId,h=e.anilistId,u=b.a.Text,x=b.a.Paragraph,p=y.a.Option,g=Object(a.useState)(""),m=Object(j.a)(g,2),O=m[0],S=m[1],I=Object(a.useState)(!1),T=Object(j.a)(I,2),A=T[0],L=T[1],B={borderRadius:"10px",width:"25vw",height:"25vw",lineHeight:"25vw",margin:"0 auto",border:O?"":"1px dashed #C5C5C5",backgroundImage:'url("'.concat(O,'")'),backgroundPosition:"center",backgroundSize:"cover"},F=Object(P.jsxs)(r.a.Fragment,{children:[Object(P.jsx)(C.a,{style:{fontSize:"1.5rem",color:"#C5C5C5"}}),Object(P.jsx)(u,{style:{display:"block",marginTop:"-20vw"},type:"secondary",italic:!0,children:"Loading"})]}),R=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=3;break}return f.b.error("Please fill image url"),e.abrupt("return");case 3:return n(!0),e.prev=4,e.next=7,fetch("https://api.trace.moe/search?anilistInfo&url=".concat(encodeURIComponent(O)).concat(A?"&cutBorder":"").concat(h?"&anilistID="+h:""));case 7:return t=e.sent,e.next=10,t.json();case 10:a=e.sent,i(a.result),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0.message);case 17:return e.prev=17,n(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{style:{textAlign:"center"},children:[Object(P.jsx)("div",{style:B,children:O?t?F:"":Object(P.jsx)(r.a.Fragment,{children:Object(P.jsx)(u,{style:{display:"block",fontSize:"0.5rem"},type:"secondary",italic:!0,children:"Your image"})})}),Object(P.jsx)("br",{}),Object(P.jsx)(v.a,{disabled:t,prefix:Object(P.jsx)(z.a,{}),onChange:function(e){S(e.target.value)},value:O,placeholder:"Type image url",size:"large"}),Object(P.jsx)(v.a,{onChange:function(e){return c(e.target.value)},style:{width:"20vw"},placeholder:"Type here for search anime name"}),Object(P.jsx)(y.a,{disabled:t,loading:t,onSelect:function(e){return l(e)},style:{marginTop:"20px",marginBottom:"10px",width:"20vw"},children:s?s.map((function(e){return Object(P.jsx)(p,{value:e.id,children:e.title.romaji})})):Object(P.jsx)(p,{disabled:!0,children:"Type for search"})}),Object(P.jsx)(x,{type:"secondary",children:"Type anime name then select from right box (if you know anime name)"}),Object(P.jsx)(w.a,{disabled:t,loading:t,style:{marginTop:"20px"},onClick:R,type:"primary",children:"Search"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(k.a,{disabled:t,checked:A,onChange:function(e){return L(!A)}})," ",Object(P.jsx)(u,{type:"secondary",children:"Cut Black Border"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsx)(u,{type:"secondary",style:{fontSize:"0.85rem"},italic:!0,children:"The recommended resolution is 640 x 360px, higher resolution doesn't yield better search results. Your image must be smaller than 9 MB."})]})},R=n(307),M=n(60),D=n(309);var H=function(e){var t=e.anilist,n=e.episode,a=(e.filename,e.from),r=e.image,i=e.similarity,c=e.to,s=e.video,l=b.a.Paragraph,o=b.a.Title,d=b.a.Link,j=(t.id,t.idMal),h=(t.isAdult,t.synonyms),u=t.title,x=u.english,g=u.native,m=u.romaji,O=Object(P.jsxs)("div",{children:[Object(P.jsx)(l,{children:x}),Object(P.jsx)(l,{children:g}),Object(P.jsx)(l,{children:m}),h.map((function(e,t){return Object(P.jsx)(l,{children:e},t)}))]}),y=function(e){e=parseInt(e);var t=parseInt(e/60);e-=60*t;var n=parseInt(t/60);t-=60*n;var a=function(e){return e=1===(e="".concat(e)).length?"0".concat(e):e};return"".concat(a(n),":").concat(a(t),":").concat(a(e))};return Object(P.jsxs)(p.a,{style:{margin:"10px 0"},children:[Object(P.jsx)(p.a.Grid,{style:{width:"40%",padding:0,objectFit:"cover"},hoverable:!1,children:Object(P.jsx)("img",{style:{width:"100%"},src:r,alt:"thumbnail"})}),Object(P.jsxs)(p.a.Grid,{style:{width:"60%",paddingLeft:"20px",boxShadow:"none"},hoverable:!1,children:[Object(P.jsxs)(o,{style:{marginBottom:0},level:5,children:[m,Object(P.jsx)(R.a,{content:O,trigger:"click",title:"Alternative Title",children:Object(P.jsx)(M.a,{zIndex:"1",title:"Alternative Title",children:Object(P.jsx)(D.a,{})})})]}),Object(P.jsxs)(l,{style:{margin:0},type:"success",children:["Episode ",n]}),Object(P.jsxs)(l,{italic:!0,type:"secondary",children:[y(a)," - ",y(c)]}),Object(P.jsxs)(l,{italic:!0,type:"danger",children:[parseInt(1e4*i)/100,"% Similarity"]}),Object(P.jsxs)("div",{children:[Object(P.jsx)(d,{href:s,target:"_blank",children:Object(P.jsx)(w.a,{type:"primary",children:"Video"})}),Object(P.jsx)(d,{href:"https://myanimelist.net/anime/"+j,target:"_blank",children:Object(P.jsx)(w.a,{type:"success",children:"MyAnimeList"})})]})]})]})};var E=function(){var e=b.a.Text,t=b.a.Link,n=b.a.Title,r=Object(a.useState)([]),i=Object(j.a)(r,2),c=i[0],l=i[1],y=Object(a.useState)(""),f=Object(j.a)(y,2),v=f[0],w=f[1],k=Object(a.useState)(!1),C=Object(j.a)(k,2),S=C[0],I=C[1],T=Object(a.useState)([]),A=Object(j.a)(T,2),L=A[0],z=A[1],R=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),n='{\n                            Page(page:1, perPage:100){\n                                media(type:ANIME,search: "'.concat(t,'", sort:ID) {\n                                    id\n                                    title {\n                                        romaji\n                                        english\n                                        native\n                                    }\n                                }\n                            }\n                        }'),a={method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:n})},e.prev=3,e.next=6,fetch("https://graphql.anilist.co",a);case 6:return r=e.sent,e.next=9,r.json();case 9:i=e.sent,l(i.data.Page.media),console.log(i.data.Page.media),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:return e.prev=17,I(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("div",{children:Object(P.jsxs)(O.a,{children:[Object(P.jsxs)(m.Header,{children:[Object(P.jsx)("div",{className:"logo",style:{height:"32px",float:"left",lineHeight:"32px",margin:"16px 0 16px 0",overflow:"hidden"},children:Object(P.jsx)("img",{style:{height:"100%",objectFit:"cover",objectPosition:"center center"},src:"/whut-anime/whut-logo.png",alt:""})}),Object(P.jsxs)(h.a,{mode:"horizontal",defaultSelectedKeys:["home"],theme:"dark",children:[Object(P.jsx)(h.a.Item,{style:{marginLeft:"auto"},children:"Home"},"home"),Object(P.jsx)(h.a.Item,{children:"About"},"about")]})]}),Object(P.jsx)(m.Content,{style:{padding:"50px 0"},children:Object(P.jsx)(u.a,{justify:"center",children:Object(P.jsxs)(x.a,{lg:16,md:18,sm:20,xs:22,children:[Object(P.jsx)(p.a,{style:{minHeight:"75vh"},children:Object(P.jsxs)(g.a,{defaultActiveKey:"upload",centered:!0,children:[Object(P.jsx)(g.a.TabPane,{disabled:S,tab:"Upload Image",children:Object(P.jsx)(B,{anilistId:v,setAnilistId:w,anilist:c,setAnilist:l,fetchAnilist:R,loading:S,setResult:z,setLoading:I})},"upload"),Object(P.jsx)(g.a.TabPane,{disabled:S,tab:"From URL",children:Object(P.jsx)(F,{anilistId:v,setAnilistId:w,anilist:c,setAnilist:l,fetchAnilist:R,loading:S,setResult:z,setLoading:I})},"url")]})}),Object(P.jsx)(n,{style:{margin:"10px",textAlign:"center"},level:2,children:"Your Result"}),Object(P.jsx)("div",{children:L.map((function(e,t){return Object(P.jsx)(H,Object(s.a)({},e),t)}))})]})})}),Object(P.jsxs)(m.Footer,{style:{background:"#001529",textAlign:"center"},children:[Object(P.jsxs)(e,{italic:!0,style:{color:"white"},children:["Dibuat oleh ",Object(P.jsx)(t,{href:"http://github.com/ridwanal24",children:"Orang Ini"})," "]}),Object(P.jsx)("br",{}),Object(P.jsxs)(e,{italic:!0,style:{color:"white"},children:["Menggunakan ReactJS dengan API dari ",Object(P.jsx)(t,{href:"https://soruly.github.io/trace.moe-api",children:"trace.moe"})," "]})]})]})})};var J=function(){return Object(P.jsx)(E,{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,310)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};n(298);c.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(J,{})}),document.getElementById("root")),U()}},[[299,1,2]]]);
//# sourceMappingURL=main.4630f1fe.chunk.js.map